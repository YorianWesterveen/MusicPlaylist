@page
@model MusicPlaylist.Pages.XML.IndexModel
@using System.Data
@using Code.XML
@using MusicPlaylist.Code
@using Newtonsoft.Json
@{
    SongMethods sm = new SongMethods();
}

<div class="text-center">
    <h1 class="display-4">Json</h1>
    <table class="table">
        <thead class="tbody">
            <tr>
                <th id="id" scope="col">Id</th>
                <th scope="col">Artist</th>
                <th scope="col">Title</th>
                <th scope="col">Year</th>
                <th scope="col">Genre</th>
                <th scope="col">Time</th>
                <th scope="col">audio</th>
                <th scope="col">Edit</th>
                <th scope="col">Verwijderen</th>
            </tr>
        </thead>
    <tbody>
    @foreach (Song s in sm.GetAllSongs() )
    {
        <tr>
            <th scope="row">@s.id</th>
            <td>@s.artist</td>
            <td>@s.title</td>
            <td>@s.year</td>
            <td>@s.genre</td>
            <td>@s.time</td>
            <td>
                @{if (s.url != null )
                }
                <audio controls>
                    <source src="~/Uploads/@s.url">
                </audio>
            </td>
            <td><a href="/Xml/Edit?id=@s.id">Edit</a></td>
            <td><a href="/Xml/Delete?id=@s.id">Verwijderen</a></td>
        </tr>
    }
        </tbody>
    </table>
    <br />
    <br />
    <a id="Create" href="/Xml/Create">Een nieuwe song toevoegen.</a>
</div>
